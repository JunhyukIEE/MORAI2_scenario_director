racing_director:
  ros__parameters:
    # Map settings
    map.map_dir: "map"
    map.map_yaml: "Sangam_map.yaml"
    map.waypoints: "waypoints.csv"

    # Waypoint settings
    waypoints.default_speed: 10.0

    # Vehicle parameters
    vehicle.wheelbase: 2.7
    vehicle.max_steering: 0.55
    vehicle.max_steer_rad: 0.489    # radians (~28 deg)
    vehicle.max_accel: 3.5          # m/s^2
    vehicle.max_decel: 7.0          # m/s^2
    vehicle.max_lat_accel: 8.5      # m/s^2

    # Control parameters
    control.throttle_kp: 0.1
    control.brake_kp: 0.15
    control.max_throttle: 1.0
    control.max_brake: 1.0
    control.loop_hz: 20.0

    # Pure pursuit parameters (for waypoint following)
    pure_pursuit.lookahead_distance: 8.0
    pure_pursuit.min_lookahead: 4.0
    pure_pursuit.max_lookahead: 15.0
    pure_pursuit.lookahead_ratio: 0.3
    pure_pursuit.steering_scale: 1.0

    # Mode switching parameters
    overtake.trigger_distance: 30.0   # Start overtake planning when opponent within this distance
    overtake.complete_margin: 10.0    # Consider overtake complete when ego is this far ahead (in s-coordinate)
    overtake.return_to_line_distance: 5.0

    # Reward weights for local path planner
    weights.w_progress: 8.0           # Track progress reward
    weights.w_speed: 1.5              # Speed reward
    weights.w_overtake: 60.0          # Overtake reward
    weights.w_collision: 20000.0      # Collision penalty
    weights.w_offroad: 4000.0         # Offroad penalty
    weights.w_smooth: 8.0             # Smoothness penalty
    weights.w_curv: 2.0               # Curvature penalty
    weights.w_far_from_ref: 2.0       # Distance from reference line penalty

    # Vehicle dimensions
    ego_length: 4.0
    ego_width: 1.7
    opp_length: 4.0
    opp_width: 1.7

    # Local planner settings
    planner.dt: 0.1                   # Time step (seconds)
    planner.horizon_s: 4.0            # Planning horizon (seconds)
    planner.path_ahead_m: 70.0        # Path lookahead distance (meters)
    planner.planning_rate_hz: 10.0    # Planning frequency (Hz)

    # Candidate generation
    lateral_offsets: [-2.0, -1.5, -1.0, -0.5, 0.0, 0.5, 1.0, 1.5, 2.0]
    speed_scales: [0.85, 1.0, 1.10, 1.20]
